=== RUN   TestReElection3A
Apr 14 03:38:39.970	INFO	src/raft/raft.go:168 [S0][Follower][T0] Start Run
Apr 14 03:38:39.971	INFO	src/raft/raft.go:168 [S1][Follower][T0] Start Run
Apr 14 03:38:39.971	INFO	src/raft/raft.go:168 [S2][Follower][T0] Start Run
Test (3A): election after network failure ...
Apr 14 03:38:41.288	DEBUG	src/raft/vote.go:104 [S0][Candidate][T1] ->[S1] vote req: {"ID":1238648154914808276,"Term":1,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:41.288	DEBUG	src/raft/vote.go:104 [S0][Candidate][T1] ->[S2] vote req: {"ID":1833642033578067721,"Term":1,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:41.291	DEBUG	src/raft/vote.go:65 [S2][Follower][T1] Candidate[S0]-> S[2]-> success vote  recive request  req: {"ID":1833642033578067721,"Term":1,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:41.291	DEBUG	src/raft/vote.go:65 [S1][Follower][T1] Candidate[S0]-> S[1]-> success vote  recive request  req: {"ID":1238648154914808276,"Term":1,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:41.291	DEBUG	src/raft/vote.go:133 [S0][Candidate][T1] ->[S2] vote success become leader, voted req: {"ID":1833642033578067721,"Term":1,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}, resp: {"Term":0,"VoteGranted":true}
Apr 14 03:38:41.292	INFO	src/raft/vote.go:118 [S0][Leader][T1] not candidate, ID:1238648154914808276
Apr 14 03:38:41.292	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":2305258718060981255,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:41.292	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":319249924051472963,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:41.293	DEBUG	src/raft/send_log.go:45 [S1][Follower][T1] Leader[S0]-> heartbeat success req: {"ID":2305258718060981255,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":1,"Success":true}
Apr 14 03:38:41.293	DEBUG	src/raft/send_log.go:45 [S2][Follower][T1] Leader[S0]-> heartbeat success req: {"ID":319249924051472963,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":1,"Success":true}
Apr 14 03:38:41.294	DEBUG	src/raft/send_log.go:79 [S0][Leader][T1] ->[S2] heartbeat success, id: 319249924051472963
Apr 14 03:38:41.294	DEBUG	src/raft/send_log.go:79 [S0][Leader][T1] ->[S1] heartbeat success, id: 2305258718060981255
Apr 14 03:38:41.444	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":1237560373845219985,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:41.444	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":1395301865592848825,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:41.446	DEBUG	src/raft/send_log.go:45 [S2][Follower][T1] Leader[S0]-> heartbeat success req: {"ID":1237560373845219985,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":1,"Success":true}
Apr 14 03:38:41.446	DEBUG	src/raft/send_log.go:45 [S1][Follower][T1] Leader[S0]-> heartbeat success req: {"ID":1395301865592848825,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":1,"Success":true}
Apr 14 03:38:41.447	DEBUG	src/raft/send_log.go:79 [S0][Leader][T1] ->[S2] heartbeat success, id: 1237560373845219985
Apr 14 03:38:41.447	DEBUG	src/raft/send_log.go:79 [S0][Leader][T1] ->[S1] heartbeat success, id: 1395301865592848825
zzx: leader1: 0
断开 leader: 0
Apr 14 03:38:41.798	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":378058244679166165,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:41.798	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":1478616258656661697,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.070	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":14565819349596799,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.070	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":1362781183386012004,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.387	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":1460545746346460306,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.387	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":1294423470967773357,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.730	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":1948745020568195644,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.730	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":1179004305120159215,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.959	DEBUG	src/raft/vote.go:104 [S1][Candidate][T2] ->[S2] vote req: {"ID":766058118872147441,"Term":2,"CandidateID":1,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:42.959	DEBUG	src/raft/vote.go:104 [S1][Candidate][T2] ->[S0] vote req: {"ID":1125615412775732282,"Term":2,"CandidateID":1,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:42.960	DEBUG	src/raft/vote.go:65 [S2][Follower][T2] Candidate[S1]-> S[2]-> success vote  recive request  req: {"ID":766058118872147441,"Term":2,"CandidateID":1,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:42.961	DEBUG	src/raft/vote.go:133 [S1][Candidate][T2] ->[S2] vote success become leader, voted req: {"ID":766058118872147441,"Term":2,"CandidateID":1,"LastLogIndex":0,"LastLogTerm":-1}, resp: {"Term":1,"VoteGranted":true}
Apr 14 03:38:42.961	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":114688517109363603,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.961	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1100750542869452021,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:42.962	DEBUG	src/raft/send_log.go:45 [S2][Follower][T2] Leader[S1]-> heartbeat success req: {"ID":114688517109363603,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":true}
Apr 14 03:38:42.963	DEBUG	src/raft/send_log.go:79 [S1][Leader][T2] ->[S2] heartbeat success, id: 114688517109363603
找leader: [1]
leader1 [0]恢复
Apr 14 03:38:43.061	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S1] heartbeat, req: {"ID":1555404795657607758,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.061	DEBUG	src/raft/send_log.go:56 [S0][Leader][T1] ->[S2] heartbeat, req: {"ID":1979652056453502517,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.063	DEBUG	src/raft/send_log.go:36 [S2][Follower][T2] Leader[S0]-> append fail, leader term is old req: {"ID":1979652056453502517,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":false}
Apr 14 03:38:43.063	DEBUG	src/raft/send_log.go:36 [S1][Leader][T2] Leader[S0]-> append fail, leader term is old req: {"ID":1555404795657607758,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":false}
Apr 14 03:38:43.064	DEBUG	src/raft/send_log.go:83 [S0][Leader][T2] ->[S2] heartbeat success, but fail become follower, req: {"ID":1979652056453502517,"Term":1,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":false}
Apr 14 03:38:43.064	INFO	src/raft/send_log.go:64 [S0][Follower][T2] outdated message: 1555404795657607758
Apr 14 03:38:43.133	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1405772611085788164,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.133	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":196485135706731056,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.134	DEBUG	src/raft/send_log.go:45 [S2][Follower][T2] Leader[S1]-> heartbeat success req: {"ID":196485135706731056,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":true}
Apr 14 03:38:43.134	DEBUG	src/raft/send_log.go:45 [S0][Follower][T2] Leader[S1]-> heartbeat success req: {"ID":1405772611085788164,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":true}
Apr 14 03:38:43.135	DEBUG	src/raft/send_log.go:79 [S1][Leader][T2] ->[S2] heartbeat success, id: 196485135706731056
Apr 14 03:38:43.135	DEBUG	src/raft/send_log.go:79 [S1][Leader][T2] ->[S0] heartbeat success, id: 1405772611085788164
Apr 14 03:38:43.319	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":574773311773420924,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.319	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1418187722531813183,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.321	DEBUG	src/raft/send_log.go:45 [S2][Follower][T2] Leader[S1]-> heartbeat success req: {"ID":1418187722531813183,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":true}
Apr 14 03:38:43.321	DEBUG	src/raft/send_log.go:45 [S0][Follower][T2] Leader[S1]-> heartbeat success req: {"ID":574773311773420924,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":2,"Success":true}
Apr 14 03:38:43.322	DEBUG	src/raft/send_log.go:79 [S1][Leader][T2] ->[S2] heartbeat success, id: 1418187722531813183
Apr 14 03:38:43.322	DEBUG	src/raft/send_log.go:79 [S1][Leader][T2] ->[S0] heartbeat success, id: 574773311773420924
得到leader2 [1]
断开[1][2]
Apr 14 03:38:43.627	INFO	src/raft/send_log.go:64 [S0][Follower][T2] outdated message: 1948745020568195644
Apr 14 03:38:43.670	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1858317547006588247,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.670	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":677736679595445759,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.870	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:43.870	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":577457247101330905,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.138	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1659239488481167610,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.138	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":2098687061937392954,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.413	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":254806255130475757,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.413	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":2223915870716676913,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.454	DEBUG	src/raft/vote.go:104 [S2][Candidate][T3] ->[S1] vote req: {"ID":1453277047117316292,"Term":3,"CandidateID":2,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:44.454	DEBUG	src/raft/vote.go:104 [S2][Candidate][T3] ->[S0] vote req: {"ID":139482218071590493,"Term":3,"CandidateID":2,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:44.696	INFO	src/raft/send_log.go:64 [S0][Follower][T2] outdated message: 14565819349596799
Apr 14 03:38:44.826	DEBUG	src/raft/vote.go:104 [S0][Candidate][T3] ->[S2] vote req: {"ID":1826622161533899686,"Term":3,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:44.826	DEBUG	src/raft/vote.go:104 [S0][Candidate][T3] ->[S1] vote req: {"ID":2120853744106375680,"Term":3,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:44.844	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":788078276849110970,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.844	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1190834144582718866,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.885	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.885	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.914	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S0] heartbeat, fail req: {"ID":577457247101330905,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:44.914	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":577457247101330905,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.221	INFO	src/raft/vote.go:118 [S1][Leader][T2] not candidate, ID:1125615412775732282
Apr 14 03:38:45.240	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1421884355434400196,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.241	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1255189307190646317,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.241	INFO	src/raft/send_log.go:64 [S0][Candidate][T3] outdated message: 1362781183386012004
Apr 14 03:38:45.509	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.509	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
检查无leader
恢复[2]
Apr 14 03:38:45.597	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1180834692621983736,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.597	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1234014750089276257,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.784	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":1858317547006588247,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.785	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1858317547006588247,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.906	INFO	src/raft/send_log.go:64 [S0][Candidate][T3] outdated message: 1478616258656661697
Apr 14 03:38:45.929	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":2016335821617095736,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:45.929	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1325238237564565612,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.240	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1230452460227330016,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.240	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":2191835982496524731,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.536	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S0] heartbeat, fail req: {"ID":1190834144582718866,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.536	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1190834144582718866,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.610	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":801149405192034524,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.611	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":929122436645131706,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.776	INFO	src/raft/send_log.go:64 [S0][Follower][T3] outdated message: 1460545746346460306
Apr 14 03:38:46.944	INFO	src/raft/send_log.go:64 [S0][Follower][T3] outdated message: 1179004305120159215
Apr 14 03:38:46.945	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1278111497778691311,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:46.945	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":2197624616627108485,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.064	INFO	src/raft/send_log.go:64 [S0][Follower][T3] outdated message: 378058244679166165
Apr 14 03:38:47.161	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":801149405192034524,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.162	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":801149405192034524,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.186	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":1180834692621983736,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.186	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1180834692621983736,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.301	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S0] heartbeat, fail req: {"ID":1190834144582718866,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.301	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1190834144582718866,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.316	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":405075687863301058,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.316	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1868270314868563059,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.535	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":788078276849110970,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.536	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":788078276849110970,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.553	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":2238275095362590927,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.553	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":484984143057021497,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.678	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":801149405192034524,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.678	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":801149405192034524,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.889	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":222175106828175232,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:47.889	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1535766790253058713,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.057	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":788078276849110970,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.058	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":788078276849110970,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.117	DEBUG	src/raft/vote.go:104 [S0][Candidate][T4] ->[S1] vote req: {"ID":1717310820626652936,"Term":4,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:48.117	DEBUG	src/raft/vote.go:104 [S0][Candidate][T4] ->[S2] vote req: {"ID":1096615892728741990,"Term":4,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:48.117	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":626374902348380281,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.117	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1802655907228454239,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.118	DEBUG	src/raft/vote.go:65 [S2][Follower][T4] Candidate[S0]-> S[2]-> success vote  recive request  req: {"ID":1096615892728741990,"Term":4,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}
Apr 14 03:38:48.119	DEBUG	src/raft/vote.go:133 [S0][Candidate][T4] ->[S2] vote success become leader, voted req: {"ID":1096615892728741990,"Term":4,"CandidateID":0,"LastLogIndex":0,"LastLogTerm":-1}, resp: {"Term":3,"VoteGranted":true}
Apr 14 03:38:48.119	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S1] heartbeat, req: {"ID":908214353160471224,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.119	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S2] heartbeat, req: {"ID":1041136765305053423,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.120	DEBUG	src/raft/send_log.go:45 [S2][Follower][T4] Leader[S0]-> heartbeat success req: {"ID":1041136765305053423,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":true}
Apr 14 03:38:48.121	DEBUG	src/raft/send_log.go:79 [S0][Leader][T4] ->[S2] heartbeat success, id: 1041136765305053423
Apr 14 03:38:48.222	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S0] heartbeat, fail req: {"ID":2238275095362590927,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.222	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":2238275095362590927,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.267	DEBUG	src/raft/send_log.go:74 [S0][Leader][T4] ->[S1] heartbeat, fail req: {"ID":908214353160471224,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.267	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S1] heartbeat, req: {"ID":908214353160471224,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.317	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S2] heartbeat, req: {"ID":1157627805450518815,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.317	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S1] heartbeat, req: {"ID":685969381754776191,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.318	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":2016335821617095736,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.318	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":2016335821617095736,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.319	DEBUG	src/raft/send_log.go:45 [S2][Follower][T4] Leader[S0]-> heartbeat success req: {"ID":1157627805450518815,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":true}
Apr 14 03:38:48.319	DEBUG	src/raft/send_log.go:79 [S0][Leader][T4] ->[S2] heartbeat success, id: 1157627805450518815
Apr 14 03:38:48.396	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.397	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1600359269823271352,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.469	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S2] heartbeat, fail req: {"ID":1421884355434400196,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.470	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":1421884355434400196,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.471	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":2185108337256766706,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.471	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S2] heartbeat, req: {"ID":662218241810520037,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.492	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S0] heartbeat, fail req: {"ID":577457247101330905,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.492	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":577457247101330905,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.537	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S2] heartbeat, req: {"ID":865921008420524583,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.537	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S1] heartbeat, req: {"ID":1263413828055636925,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.538	DEBUG	src/raft/send_log.go:45 [S2][Follower][T4] Leader[S0]-> heartbeat success req: {"ID":865921008420524583,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":true}
Apr 14 03:38:48.539	DEBUG	src/raft/send_log.go:79 [S0][Leader][T4] ->[S2] heartbeat success, id: 865921008420524583
get leader[0]
恢复[1]
Apr 14 03:38:48.664	DEBUG	src/raft/send_log.go:74 [S1][Leader][T2] ->[S0] heartbeat, fail req: {"ID":1234014750089276257,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.665	DEBUG	src/raft/send_log.go:56 [S1][Leader][T2] ->[S0] heartbeat, req: {"ID":1234014750089276257,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.666	DEBUG	src/raft/send_log.go:36 [S0][Leader][T4] Leader[S1]-> append fail, leader term is old req: {"ID":1234014750089276257,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":false}
Apr 14 03:38:48.666	DEBUG	src/raft/send_log.go:83 [S1][Leader][T4] ->[S0] heartbeat success, but fail become follower, req: {"ID":1234014750089276257,"Term":2,"LeaderID":1,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":false}
Apr 14 03:38:48.766	INFO	src/raft/vote.go:113 [S0][Leader][T4] outdate message: 1826622161533899686
Apr 14 03:38:48.775	INFO	src/raft/send_log.go:64 [S1][Follower][T4] outdated message: 1230452460227330016
Apr 14 03:38:48.946	INFO	src/raft/send_log.go:64 [S1][Follower][T4] outdated message: 577457247101330905
Apr 14 03:38:48.975	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S2] heartbeat, req: {"ID":328463754546927325,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.975	DEBUG	src/raft/send_log.go:56 [S0][Leader][T4] ->[S1] heartbeat, req: {"ID":685013851272575664,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}
Apr 14 03:38:48.976	DEBUG	src/raft/send_log.go:45 [S2][Follower][T4] Leader[S0]-> heartbeat success req: {"ID":328463754546927325,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":true}
Apr 14 03:38:48.976	DEBUG	src/raft/send_log.go:45 [S1][Follower][T4] Leader[S0]-> heartbeat success req: {"ID":685013851272575664,"Term":4,"LeaderID":0,"PrevLogIndex":0,"PrevLogTerm":0,"Entries":null,"LeaderCommit":0}, resp: {"Term":4,"Success":true}
Apr 14 03:38:48.977	DEBUG	src/raft/send_log.go:79 [S0][Leader][T4] ->[S1] heartbeat success, id: 685013851272575664
Apr 14 03:38:48.977	DEBUG	src/raft/send_log.go:79 [S0][Leader][T4] ->[S2] heartbeat success, id: 328463754546927325
Apr 14 03:38:49.039	INFO	src/raft/send_log.go:64 [S0][Leader][T4] outdated message: 1294423470967773357
get last leader[0]
  ... Passed --   9.1  3   88   19602    0
--- PASS: TestReElection3A (9.11s)
PASS
ok  	6.5840/raft	9.323s
